{% extends "layout.html" %}
{% block content %}
<h2>📝 Single Claim Analysis</h2>
<form method="POST" class="card">
  <div class="grid" style="grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:10px;">
    <input type="number" name="claim_duration" placeholder="Claim Duration" required>
    <input type="number" name="los" placeholder="Length of Stay (LOS)" required>
    <input type="number" step="0.01" name="claim_amount" placeholder="Claim Amount ($)" required>
    <input type="number" step="0.01" name="deductible_paid" placeholder="Deductible Paid" required>
    <input type="number" step="0.01" name="pay_ratio" placeholder="Pay Ratio" required>
    <input type="number" name="num_diags" placeholder="Number of Diagnoses" required>
    <input type="number" name="num_procs" placeholder="Number of Procedures" required>
    <input type="number" name="patient_age" placeholder="Patient Age" required>

    <select name="death_during_claim", class="form-field">
      <option value="0">No Death</option>
      <option value="1">Death Occurred</option>
    </select>
    <select name="is_inpatient",class="form-field">
      <option value="0">Not Inpatient</option>
      <option value="1">Inpatient</option>
    </select>
    <select name="is_outpatient",class="form-field">
      <option value="0">Not Outpatient</option>
      <option value="1">Outpatient</option>
    </select>
    <select name="gender",class="form-field">
      <option value="0">Female</option>
      <option value="1">Male</option>
    </select>

    <input type="number" name="state" placeholder="State Code" required>
    <input type="number" name="chronic_count" placeholder="Chronic Conditions Count" required>
    <select name="renal_disease",class="form-field">
      <option value="0">No Renal Disease</option>
      <option value="1">Renal Disease</option>
    </select>
    <input type="number" name="num_physicians" placeholder="Number of Physicians" required>
    <select name="attending_operating_same",class="form-field">
      <option value="0">Different Physicians</option>
      <option value="1">Same Physician</option>
    </select>
    <input type="number" name="claim_month" placeholder="Claim Month" required>
    <input type="number" name="claim_year" placeholder="Claim Year" required>
    <select name="weekend_admission",class="form-field">
      <option value="0">Weekday Admission</option>
      <option value="1">Weekend Admission</option>
    </select>
  </div>

  <button type="submit" style="margin-top:12px;">Analyze for Fraud 🔍</button>
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div style="margin-top:12px;">
      {% for cat,msg in messages %}
        <div class="flash {{cat}}">{{ msg }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
{% endblock %}
